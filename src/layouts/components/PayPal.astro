---
const PAYPAL_CLIENT_ID = import.meta.env.PAYPAL_CLIENT_ID;
console.log;
---

<div id="paypal-button-container" class="paypal-button-container"></div>
<p id="result-message"></p>

<script is:inline define:vars={{ PAYPAL_CLIENT_ID }}>
  const script = document.createElement("script");
  script.src = `https://www.paypal.com/sdk/js?client-id=${PAYPAL_CLIENT_ID}&buyer-country=US&currency=USD&components=buttons&enable-funding=venmo`;
  script.onload = () => {
    // Load the cart script after PayPal SDK is loaded
    const cartScript = document.createElement("script");
    cartScript.src = "/scripts/paypal_cart.js";
    document.body.appendChild(cartScript);
  };
  document.body.appendChild(script);
</script>
